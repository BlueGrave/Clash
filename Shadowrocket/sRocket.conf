# Shadowrocket
# 自用 RULE-SET
[General]
dns-server = 223.5.5.5, 223.6.6.6, 1.0.0.1, 1.1.1.1, https://dns.alidns.com/dns-query, https://cloudflare-dns.com/dns-query
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, *.crashlytics.com, *.edu.cn, injections.adguard.org, local.adguard.org, captive.apple.com, guzzoni.apple.com

bypass-system = true
bypass-tun = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32

ipv6 = false

[Rule]
# Unbreak
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, DIRECT
#Advertising
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, REJECT
# Privacy
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, REJECT
# Hijacking
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, REJECT
# Streaming
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,PROXY, force-remote-dns
# Global
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, PROXY, force-remote-dns
# China
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list, DIRECT
# ChinaIP
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/ChinaIP.list, DIRECT
# Telegram
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list,PROXY, force-remote-dns
# Twitter
RULE-SET, https://github.com/DivineEngine/Profiles/blob/master/Surge/Ruleset/Extra/Twitter.list, PROXY, force-remote-dns

URL-REGEX, ^https:\/\/.+\.googlevideo\.com\/.+&oad, REJECT
DOMAIN-SUFFIX, tiktokv.com, PROXY
DOMAIN-SUFFIX, musical.ly, PROXY

GEOIP, CN, DIRECT
FINAL, PROXY

[URL Rewrite]
^http://(www.)?google.cn https://www.google.com 302

[Script]
# 淘宝比价
tb_price = type=http-request,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js,pattern=^http://.+/amdc/mobileDispatch,requires-body=true,script-update-interval=24,enable=true

tb_price = type=http-response,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js,pattern=^https?://trade-acs\.m\.taobao\.com/gw/mtop\.taobao\.detail\.getdetail,requires-body=true,script-update-interval=24,enable=true

#京东比价
jd_price = type=http-response type=http-response,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/jd_price.js,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig),max-size=131072,requires-body=true,script-update-interval=24,enable=true

[MITM]
enable = true
hostname = trade-acs.m.taobao.com, api.m.jd.com
ca-passphrase = Shadowrocket
ca-p12 = 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